<div class="change-password-container">
  <h2>Change Password</h2>

  <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="old_password">Current Password</label>
      <input
        type="password"
        id="old_password"
        formControlName="old_password"
        placeholder="Enter current password"
      />
      <small *ngIf="changePasswordForm.get('old_password')?.touched && changePasswordForm.get('old_password')?.invalid">
        Current password is required.
      </small>
    </div>

    <div class="form-group">
      <label for="new_password">New Password</label>
      <input
        type="password"
        id="new_password"
        formControlName="new_password"
        placeholder="Enter new password"
      />
      <small *ngIf="changePasswordForm.get('new_password')?.touched && changePasswordForm.get('new_password')?.invalid">
        New password is required (min 6 characters).
      </small>
    </div>

    <div class="form-group">
      <label for="confirm_password">Confirm New Password</label>
      <input
        type="password"
        id="confirm_password"
        formControlName="confirm_password"
        placeholder="Re-enter new password"
      />
      <small *ngIf="changePasswordForm.hasError('mismatch') && changePasswordForm.get('confirm_password')?.touched">
        Passwords do not match.
      </small>
    </div>

    <div class="button-group">
      <button type="submit" [disabled]="changePasswordForm.invalid">Update Password</button>
    </div>

    <div class="message success" *ngIf="successMessage">{{ successMessage }}</div>
    <div class="message error" *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>
</div>
